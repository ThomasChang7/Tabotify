{"version":3,"sources":["../src/server/index.js"],"names":["Koa","require","koaBodyParser","koaSession","passport","indexRoutes","authRoutes","userRoutes","combineRouters","app","use","keys","router","initialize","session","PORT","process","env","server","listen","on","err","console","error","module","exports"],"mappings":"AAAA,IAAMA,MAAMC,QAAQ,KAAR,CAAZ;AACA,IAAMC,gBAAgBD,QAAQ,gBAAR,CAAtB;AACA,IAAME,aAAaF,QAAQ,aAAR,CAAnB;AACA,IAAMG,WAAWH,QAAQ,cAAR,CAAjB;;AAEA;AACA,IAAMI,cAAcJ,QAAQ,gBAAR,CAApB;AACA,IAAMK,aAAaL,QAAQ,eAAR,CAAnB;AACA,IAAMM,aAAaN,QAAQ,gBAAR,CAAnB;AACA,IAAMO,iBAAiBP,QAAQ,qBAAR,CAAvB;;AAEA,IAAMQ,MAAM,IAAIT,GAAJ,EAAZ;;AAEAS,IAAIC,GAAJ,CAAQR,eAAR;AACAO,IAAIE,IAAJ,GAAW,CAAC,eAAD,CAAX;AACAF,IAAIC,GAAJ,CAAQP,WAAWM,GAAX,CAAR;;AAEAR,QAAQ,QAAR;;AAEA,IAAMW,SAASJ,eAAe,CAACH,WAAD,EAAcC,UAAd,EAA0BC,UAA1B,CAAf,CAAf;AACAE,IAAIC,GAAJ,CAAQN,SAASS,UAAT,EAAR;AACAJ,IAAIC,GAAJ,CAAQN,SAASU,OAAT,EAAR;AACAL,IAAIC,GAAJ,CAAQE,MAAR;;AAEA,IAAMG,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;AAEA,IAAMG,SAAST,IAAIU,MAAJ,CAAWJ,IAAX,EAAiBK,EAAjB,CAAoB,OAApB,EAA6B,UAACC,GAAD,EAAS;AACnDC,UAAQC,KAAR,CAAcF,GAAd;AACD,CAFc,CAAf;;AAIAG,OAAOC,OAAP,GAAiBP,MAAjB","file":"index.js","sourcesContent":["const Koa = require('koa');\nconst koaBodyParser = require('koa-bodyparser');\nconst koaSession = require('koa-session');\nconst passport = require('koa-passport');\n\n// routes\nconst indexRoutes = require('./routes/index');\nconst authRoutes = require('./routes/auth');\nconst userRoutes = require('./routes/users');\nconst combineRouters = require('koa-combine-routers');\n\nconst app = new Koa();\n\napp.use(koaBodyParser());\napp.keys = ['tabotify:sesh'];\napp.use(koaSession(app));\n\nrequire('./auth');\n\nconst router = combineRouters([indexRoutes, authRoutes, userRoutes]);\napp.use(passport.initialize());\napp.use(passport.session());\napp.use(router);\n\nconst PORT = process.env.PORT || 8081;\n\nconst server = app.listen(PORT).on('error', (err) => {\n  console.error(err);\n});\n\nmodule.exports = server;\n"]}